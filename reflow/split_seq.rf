param (
	docker_image = "kleinstein/immcantation:1.10.2"
)

func SplitSeq(fastq_file file, min_conscount int) dir = {
	val split_seq_results = exec(image := docker_image) (output dir) {"
	    cd {{output}}

	    mv {{fastq_file}} fastq_file.fastq

	    SplitSeq.py group \
		-s fastq_file.fastq \
		-f CONSCOUNT \
		--num {{min_conscount}}
	"}
	split_seq_results
}
